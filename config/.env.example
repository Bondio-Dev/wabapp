# =============================================================================
# КОНФИГУРАЦИЯ WHATSAPP BUSINESS API КЛИЕНТА С AMO CRM
# =============================================================================

# -----------------------------------------------------------------------------
# GUPSHUP WHATSAPP BUSINESS API НАСТРОЙКИ
# -----------------------------------------------------------------------------

# Название вашего приложения в Gupshup (пример: my_whatsapp_app)
GUPSHUP_APP_NAME=my_whatsapp_app

# API ключ от Gupshup (получить в панели управления Gupshup)
# Пример: 4a7c2b1d-3e8f-9g0h-1i2j-3k4l5m6n7o8p
GUPSHUP_API_KEY=your_gupshup_api_key_here

# Номер WhatsApp Business (включая код страны, без символов +)
# Пример: 917834811114 (для Индии) или 79001234567 (для России)
GUPSHUP_SOURCE_NUMBER=917834811114

# URL для webhook'ов от Gupshup (должен быть доступен извне)
# Пример: https://yourdomain.com/webhook/gupshup
GUPSHUP_WEBHOOK_URL=https://yourdomain.com/webhook/gupshup

# -----------------------------------------------------------------------------
# AMO CRM API НАСТРОЙКИ
# -----------------------------------------------------------------------------

# Поддомен вашей AMO CRM (без .amocrm.ru)
# Пример: если ваша CRM - https://mycompany.amocrm.ru, то указать mycompany
AMO_SUBDOMAIN=your_subdomain

# Client ID интеграции (получить в разделе Настройки > Интеграции)
# Пример: 12345678-1234-1234-1234-123456789abc
AMO_CLIENT_ID=your_client_id

# Client Secret интеграции
# Пример: AbCdEfGhIjKlMnOpQrStUvWxYz123456789
AMO_CLIENT_SECRET=your_client_secret

# Access Token (получается после авторизации)
# Пример: eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9...
AMO_ACCESS_TOKEN=your_access_token

# Refresh Token (для обновления access token)
# Пример: def502004fb5b2e7e4f123456789abcd
AMO_REFRESH_TOKEN=your_refresh_token

# ID воронки для создания сделок (найти в Настройки > Воронки и этапы)
# Пример: 123456
AMO_PIPELINE_ID=your_pipeline_id

# ID этапа в воронке для новых сделок
# Пример: 789012
AMO_STATUS_ID=your_status_id

# ID пользователя (ответственного за сделки)
# Пример: 345678
AMO_USER_ID=your_user_id

# -----------------------------------------------------------------------------
# БАЗА ДАННЫХ
# -----------------------------------------------------------------------------

# URL подключения к PostgreSQL
# Для Docker: postgres://whatsapp_user:whatsapp_pass@postgres:5432/whatsapp_client
DATABASE_URL=postgres://whatsapp_user:whatsapp_pass@postgres:5432/whatsapp_client

# Настройки для отдельного подключения
DB_HOST=postgres
DB_PORT=5432
DB_NAME=whatsapp_client
DB_USER=whatsapp_user
DB_PASSWORD=whatsapp_pass

# -----------------------------------------------------------------------------
# REDIS (для кэширования и сессий)
# -----------------------------------------------------------------------------

# URL подключения к Redis
# Для Docker: redis://redis:6379
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379

# -----------------------------------------------------------------------------
# ПРИЛОЖЕНИЕ
# -----------------------------------------------------------------------------

# Порт для backend API
PORT=3001

# Порт для frontend (если нужен отдельный)
FRONTEND_PORT=3000

# Режим работы (development/production)
NODE_ENV=production

# Секретный ключ для JWT токенов
# Пример: your-super-secret-jwt-key-here-123456789
JWT_SECRET=your-super-secret-jwt-key-here

# Базовый URL вашего приложения (для webhook'ов)
# Пример: https://yourdomain.com
BASE_URL=https://yourdomain.com

# CORS origins (разрешенные домены для frontend)
# Пример: https://yourdomain.com,https://app.yourdomain.com
CORS_ORIGINS=http://localhost:3000,https://yourdomain.com

# -----------------------------------------------------------------------------
# МОНИТОРИНГ NETDATA
# -----------------------------------------------------------------------------

# Токен для подключения к Netdata Cloud (опционально)
# Получить на https://app.netdata.cloud
NETDATA_CLAIM_TOKEN=your_netdata_claim_token

# -----------------------------------------------------------------------------
# НАСТРОЙКИ ЛОГИРОВАНИЯ
# -----------------------------------------------------------------------------

# Уровень логирования (debug, info, warn, error)
LOG_LEVEL=info

# Путь для логов (в контейнере)
LOG_PATH=/app/logs

# -----------------------------------------------------------------------------
# НАСТРОЙКИ БЕЗОПАСНОСТИ
# -----------------------------------------------------------------------------

# Ключ для шифрования чувствительных данных
ENCRYPTION_KEY=your-encryption-key-32-characters-long

# Разрешить HTTP (только для разработки!)
ALLOW_HTTP=false

# Timeout для внешних API запросов (в миллисекундах)
API_TIMEOUT=30000

# -----------------------------------------------------------------------------
# РАСШИРЕНИЕ AMO CRM
# -----------------------------------------------------------------------------

# URL для встраивания в AMO CRM (должен быть HTTPS)
# Пример: https://yourdomain.com/widget
AMO_WIDGET_URL=https://yourdomain.com/widget

# Секретный код для виджета AMO
# Пример: abc123def456ghi789
AMO_WIDGET_SECRET=your_widget_secret_code

# -----------------------------------------------------------------------------
# МОБИЛЬНАЯ АДАПТАЦИЯ
# -----------------------------------------------------------------------------

# Включить PWA (Progressive Web App) функции
ENABLE_PWA=true

# URL для манифеста PWA
PWA_MANIFEST_URL=/manifest.json

# -----------------------------------------------------------------------------
# ДОПОЛНИТЕЛЬНЫЕ НАСТРОЙКИ
# -----------------------------------------------------------------------------

# Максимальный размер файла для загрузки (в байтах)
# 10MB = 10485760
MAX_FILE_SIZE=10485760

# Разрешенные типы файлов для загрузки
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf,text/plain

# Время жизни сессии (в секундах)
# 24 часа = 86400
SESSION_LIFETIME=86400
